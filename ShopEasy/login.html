<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - ShopEasy</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">ShopEasy</a>
            <div class="nav-links">
                <a href="index.html"><i class="fas fa-home"></i> Home</a>
                <a href="shop.html"><i class="fas fa-shopping-bag"></i> Shop</a>
                <a href="cart.html"><i class="fas fa-shopping-cart"></i> Cart <span id="cart-count" class="cart-count">0</span></a>
                <div class="auth-links">
                    <a href="login.html" class="active"><i class="fas fa-user"></i> Login</a>
                </div>
            </div>
            <button class="menu-toggle" id="menuToggle"><i class="fas fa-bars"></i></button>
        </div>
    </nav>

    <section class="auth-container">
        <div class="container">
            <div class="auth-box">
                <!-- Login Form -->
                <div class="auth-form active" id="login-form">
                    <h2>Welcome Back</h2>
                    <p>Sign in to your account</p>
                    
                    <div class="form-group">
                        <label for="login-email">Email Address</label>
                        <input type="email" id="login-email" placeholder="Enter your email">
                    </div>
                    
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" placeholder="Enter your password">
                    </div>
                    
                    <div class="form-options">
                        <label class="checkbox">
                            <input type="checkbox" id="remember-me">
                            <span>Remember me</span>
                        </label>
                        <a href="#" onclick="showForgotPassword()">Forgot password?</a>
                    </div>
                    
                    <button class="btn btn-primary btn-block" onclick="login()">Sign In</button>
                    
                    <div class="auth-divider">
                        <span>or</span>
                    </div>
                    
                    <p class="auth-switch">
                        Don't have an account? <a href="#" onclick="showRegister()">Sign up here</a>
                    </p>
                    
                    <div id="login-error" class="error-message" style="display: none;"></div>
                </div>
                
                <!-- Registration Form -->
                <div class="auth-form" id="register-form">
                    <h2>Create Account</h2>
                    <p>Join our community today</p>
                    
                    <div class="form-group">
                        <label for="register-name">Full Name</label>
                        <input type="text" id="register-name" placeholder="Enter your full name">
                    </div>
                    
                    <div class="form-group">
                        <label for="register-email">Email Address</label>
                        <input type="email" id="register-email" placeholder="Enter your email">
                    </div>
                    
                    <div class="form-group">
                        <label for="register-password">Password</label>
                        <input type="password" id="register-password" placeholder="Create a password (min. 6 chars)">
                    </div>
                    
                    <div class="form-group">
                        <label for="register-confirm-password">Confirm Password</label>
                        <input type="password" id="register-confirm-password" placeholder="Confirm your password">
                    </div>
                    
                    <div class="form-group">
                        <label class="checkbox">
                            <input type="checkbox" id="terms-agree">
                            <span>I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a></span>
                        </label>
                    </div>
                    
                    <button class="btn btn-primary btn-block" onclick="register()">Create Account</button>
                    
                    <div class="auth-divider">
                        <span>or</span>
                    </div>
                    
                    <p class="auth-switch">
                        Already have an account? <a href="#" onclick="showLogin()">Sign in here</a>
                    </p>
                    
                    <div id="register-error" class="error-message" style="display: none;"></div>
                </div>
                
                <!-- Forgot Password Form -->
                <div class="auth-form" id="forgot-form">
                    <h2>Reset Password</h2>
                    <p>Enter your email to reset your password</p>
                    
                    <div class="form-group">
                        <label for="forgot-email">Email Address</label>
                        <input type="email" id="forgot-email" placeholder="Enter your email">
                    </div>
                    
                    <button class="btn btn-primary btn-block" onclick="resetPassword()">Send Reset Link</button>
                    
                    <div class="auth-divider">
                        <span>or</span>
                    </div>
                    
                    <p class="auth-switch">
                        <a href="#" onclick="showLogin()">Back to login</a>
                    </p>
                    
                    <div id="forgot-error" class="error-message" style="display: none;"></div>
                    <div id="forgot-success" class="success-message" style="display: none;"></div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ShopEasy</h3>
                    <p>Your trusted online shopping destination</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <a href="index.html">Home</a>
                    <a href="shop.html">Shop</a>
                    <a href="cart.html">Cart</a>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p>Email: mrymhassan@shopeasy.com</p>
                    <p>Phone: (+92) 321-8121137</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 ShopEasy. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Form switching functions
        function showRegister() {
            document.getElementById('login-form').classList.remove('active');
            document.getElementById('register-form').classList.add('active');
            document.getElementById('forgot-form').classList.remove('active');
        }

        function showLogin() {
            document.getElementById('register-form').classList.remove('active');
            document.getElementById('login-form').classList.add('active');
            document.getElementById('forgot-form').classList.remove('active');
        }

        function showForgotPassword() {
            document.getElementById('login-form').classList.remove('active');
            document.getElementById('register-form').classList.remove('active');
            document.getElementById('forgot-form').classList.add('active');
        }

        // Login function
        function login() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const errorDiv = document.getElementById('login-error');
            
            errorDiv.style.display = 'none';
            
            if (!email || !password) {
                errorDiv.textContent = 'Please enter both email and password';
                errorDiv.style.display = 'block';
                return;
            }
            
            // Simulate login (no Supabase for now)
            localStorage.setItem('user', JSON.stringify({
                email: email,
                name: email.split('@')[0],
                role: 'customer'
            }));
            
            alert('Login successful! Welcome to ShopEasy.');
            window.location.href = 'index.html';
        }

        // Register function
        function register() {
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('register-confirm-password').value;
            const agreeTerms = document.getElementById('terms-agree').checked;
            const errorDiv = document.getElementById('register-error');
            
            errorDiv.style.display = 'none';
            
            if (!name || !email || !password || !confirmPassword) {
                errorDiv.textContent = 'Please fill all fields';
                errorDiv.style.display = 'block';
                return;
            }
            
            if (password !== confirmPassword) {
                errorDiv.textContent = 'Passwords do not match';
                errorDiv.style.display = 'block';
                return;
            }
            
            if (password.length < 6) {
                errorDiv.textContent = 'Password must be at least 6 characters';
                errorDiv.style.display = 'block';
                return;
            }
            
            if (!agreeTerms) {
                errorDiv.textContent = 'Please agree to the terms and conditions';
                errorDiv.style.display = 'block';
                return;
            }
            
            // Simulate registration
            localStorage.setItem('user', JSON.stringify({
                name: name,
                email: email,
                role: 'customer',
                registeredAt: new Date().toISOString()
            }));
            
            errorDiv.textContent = 'Registration successful! Redirecting...';
            errorDiv.style.color = 'green';
            errorDiv.style.display = 'block';
            
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 1500);
        }

        // Reset password
        function resetPassword() {
            const email = document.getElementById('forgot-email').value;
            const errorDiv = document.getElementById('forgot-error');
            const successDiv = document.getElementById('forgot-success');
            
            errorDiv.style.display = 'none';
            successDiv.style.display = 'none';
            
            if (!email) {
                errorDiv.textContent = 'Please enter your email address';
                errorDiv.style.display = 'block';
                return;
            }
            
            // Simulate password reset
            successDiv.textContent = 'Password reset link sent to your email! Check your inbox.';
            successDiv.style.display = 'block';
            
            // Clear field
            document.getElementById('forgot-email').value = '';
            
            // Return to login after 3 seconds
            setTimeout(() => {
                showLogin();
            }, 3000);
        }

        // Cart count
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cart-count').textContent = totalItems;
        }

        // Mobile menu
        document.getElementById('menuToggle').addEventListener('click', () => {
            document.querySelector('.nav-links').classList.toggle('show');
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateCartCount();
        });
    </script>
</body>
</html>